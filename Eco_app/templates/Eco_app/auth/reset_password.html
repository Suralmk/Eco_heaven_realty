<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>login, Eco Heaven Realty</title>
    <link rel="shortcut icon" type="image/svg" href="/src/logo-icon.svg" />
    <link rel="stylesheet" href="{% static 'css/auth.css' %}" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.lordicon.com/bhenfmcm.js"></script>
    <script src="{% static 'js/auth.js'%}" defer></script>
    <!-- <script type="module" defer src="script.js"></script> -->
  </head>
  <body>
    <div class="auth-wrapper">
      <div
        class="auth-left-wrapper"
        style="background-image: url('{% static '/src/login-bg-2.jpg' %}')"
      >
        <p>
          Feels Like Home!<br />
          <span>Eco Heaven Realty</span> <br />
        </p>
      </div>

      <div class="auth-right-wrapper">
        <div class="auth-title">
          <p>
            Reset Password<br />
            <span>Enter your email to reset password!</span>
          </p>
        </div>
        {% for message in messages %}
        <div
          class=""
          style="
            width: 50%;
            height: auto;
            padding: 15px;
            justify-content: center;
            display: flex;
            align-items: center;
            background-color: rgba(241, 102, 102, 0.418);
            border: 1px solid red;
          "
        >
          <p
            style="
              color: rgb(255, 0, 0);
              font-size: 15px;
              font-weight: bold;
              align-items: end;
              display: flex;
              gap: 10px;
            "
          >
            <img src="{% static 'src/images/icons/alert-fill.png' %}" alt="" />
            {{message}}
          </p>
        </div>
        {% endfor %}
        <form action="" method="POST" id="reset-password-form">
          {% csrf_token %}
          <div class="input-field">
            <label for="emali">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder=" Enter Email"
              class="input"
            />
            <p id="errormessage"></p>
          </div>

          <script>
            // this form validation is made for email and password
            //Currently what is being applied is username and password.
            //email validation should be changed to username validation

            // const email = document.getElementById("email")
            // const password = document.getElementById("password")
            // form.addEventListener("submit", (e) => {
            //   e.preventDefault();

            //   validateInputs();
            //   return true;
            // });
            // function validateInputs() {
            //   emailValue = email.value.trim();
            //   passwordValue = password.value.trim();

            //   //validating email
            //   if (emailValue === "" || emailValue === null) {
            //     setErrorFor(email, "Enter your email!");
            //   } else if (!trueEmail(emailValue)) {
            //     setErrorFor(email, "Enter a valid email!");
            //   } else {
            //     setSuccessFor(email);
            //   }

            //   //validating password
            //   if (passwordValue === "" || passwordValue === null) {
            //     setErrorFor(password, "Enter password!");
            //   } else if (passwordValue.length < 8) {
            //     setErrorFor(password, "Password must be 8 charachter!");
            //   } else {
            //     setSuccessFor(password);
            //   }
            // }

            // function setErrorFor(input, message) {
            //   const format = input.parentElement;
            //   const displayError = format.querySelector("#errormessage");

            //   //isplaying the message, passing the error meaasge
            //   displayError.innerText = message;

            //   //adding error class to format and removing success
            //   format.classList.remove("success");
            //   format.classList.add("error");
            // }

            // function setSuccessFor(input) {
            //   const format = input.parentElement;
            //   const displayError = format.querySelectorAll("#errormessage");

            //   //displaying error message of empty string
            //   displayError.innerText = " new";

            //   //removing success class and removing  error class
            //   format.classList.remove("error");
            //   format.classList.add("success");
            // }

            // //testing if the emtered email is real email
            // function trueEmail(email) {
            //   return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
            //     email
            //   );
            // }
          </script>

          <div class="form-btn">
            <button type="submit">Reset Password</button>
          </div>
        </form>
        <div class="footing">
          <style>
            .footing a:hover {
              text-decoration: underline;
            }
          </style>
          <p style="text-align: center">
            <a href="/login">Go Back</a>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
